#!/usr/bin/env ruby

require 'optparse'

require_relative '../lib/global'
require_relative '../lib/modules'

def main
  options = {}
  parser = OptionParser.new do |opts|
    opts.banner = 'Usage: modules run [options]'
    opts.separator ''
    opts.on('-d', '--debug', 'Print debug information to stdout') do |debug|
      options['debug'] = debug
    end
  end

  parser.parse!
  Modules.main(ARGV[0], ARGV[1..-1], options)
end

main()
